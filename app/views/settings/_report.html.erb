<div class='report' style='width: 650px;'>
  <div class='panel-head clearfix' style='padding: 10px;'>
    <%= form_tag update_report_settings_path, class: 'form form-inline alert-form', method: :put do %>

      <div class='form-group clearfix'>
        <label class='control-label left'>Alert on </label>
        <div>
          <% Calendar.weekdays.each do |k, v| %>
            <%= check_box_tag 'report[days][]', k, @report_setting.has_day?(k) %>
            <%= v[:short_name] %>
          <% end %>
        </div>
      </div>

      <div class='form-group clearfix'>
        <label class='control-label left'>When health center missing report </label>
        <div>
          <%= number_field_tag 'report[x_week]', @report_setting.try(:x_week), min: 1, max: 10 %>
          <span> week(s)</label>
        </div>
      </div>

      <div class='form-group clearfix'>
        <label class='control-label left'>Recipient(s)</label>
        <div class='horizontal-form-control'>
          <% Place::Type.all.each do |place_type| %>
            <div>
              <% if @report_setting && @report_setting.recipient_types.include?(place_type[:code]) %>
                <input name='report[recipient_types][]' value="<%= place_type[:code] %>" type='checkbox' class='ace' checked='checked' />
              <% else %>
                <input name='report[recipient_types][]' value="<%= place_type[:code] %>" type='checkbox' class='ace' />
              <% end %>
              <span class='lbl'> <%= place_type[:display_name] %></span>
            </div>
          <% end %>
          <input name='report[recipient_types][]' type='hidden' />
        </div>
      </div>

      <%= render 'settings/index/report_sms'%>
      <%= render 'settings/index/report_telegram'%>
      <%= render 'settings/index/report_voice'%>

      <!-- Action button -->
      <div class='form-group clearfix'>
        <label class='control-label'>&nbsp;</label>
        <%= submit_tag 'Save', class: 'btn btn-primary' %>
      </div>
    <% end %>
  </div>
</div>
